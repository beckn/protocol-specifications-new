# Org-level folder structure (detailed) generated by `forge-the-network.sh`

`forge-the-network.sh` forges a **local “org workspace” directory** that contains multiple **sibling git repositories**, each with a sharply defined purpose. This implements the Attribution Playbook’s core pattern: **“One Front Door, Many Rooms”**—a single docs portal, but not a monorepo. (See *ATTRIBUTION.md*, sections “One Front Door, Many Rooms” + “Repository Taxonomy”.)

Default parameters:

* `NETWORK_SLUG="${1:-acmenet}"`
* `WORKDIR="${2:-$PWD/${NETWORK_SLUG}-org}"`

So by default the workspace root becomes:

```text
acmenet-org/
  .github/
  acmenet-profile/
  acmenet-schemas/
  acmenet-examples/
  acmenet-tooling/
  acmenet-policy/
  acmenet-docs/
  acmenet-workspace/   (optional; created when CREATE_WORKSPACE_REPO=true)
```

Each folder above is initialized as its **own git repo** (`git init`).

---

## 0) Workspace root: `acmenet-org/`

This is **not** a git repo by default; it’s just a **container directory** holding the org’s repos side-by-side.

Why this matters:

* You can clone/push each repo independently to GitHub later.
* You avoid “monorepo gravity” while still giving implementers one coherent entrypoint via `<network>-docs`.

---

## 1) Org guardrails repo: `.github/`

Created by the script:

```text
.github/
  CONTRIBUTING.md
  SECURITY.md
  CODE_OF_CONDUCT.md
  PULL_REQUEST_TEMPLATE.md
  ISSUE_TEMPLATE/
    bug_report.md
    feature_request.md
  workflows/
    reusable-validate.yml
    reusable-release.yml
  .gitkeep
```

### Folder / file explanations

* **`.github/` (repo)**

  * The GitHub convention repo for **org-wide defaults** and “how we collaborate”.
  * The idea is: every repo inherits a consistent social/engineering contract.

* **`CONTRIBUTING.md`**

  * Contribution rules: branching, PR expectations, review etiquette, how to propose changes.
  * Keeps the org from turning into a “choose-your-own-adventure” of process.

* **`SECURITY.md`**

  * Security reporting and disclosure process.
  * This is both a trust signal and a practical routing mechanism for vulnerabilities.

* **`CODE_OF_CONDUCT.md`**

  * Expected community behavior and escalation process.
  * Prevents governance-by-surprise and sets a baseline.

* **`PULL_REQUEST_TEMPLATE.md`**

  * Forces consistent PR metadata: what changed, why, how tested, any backwards-compat impact.

* **`ISSUE_TEMPLATE/bug_report.md`**

  * Prompts for reproducible bugs: environment, steps, expected/actual.

* **`ISSUE_TEMPLATE/feature_request.md`**

  * Prompts for problem framing + rationale so the org doesn’t accumulate random “wishlist gravel”.

* **`workflows/`**

  * **Reusable GitHub Actions** (intended to be called from other repos).
  * Centralizes the “house rules” for validation and releases.

* **`workflows/reusable-validate.yml`**

  * Placeholder for validation jobs (schema checks, linting, example generation verification, etc.).

* **`workflows/reusable-release.yml`**

  * Placeholder for release automation (tagging, changelog checks, packaging artifacts).

* **`.gitkeep`**

  * A “keep directory tracked” sentinel created by `init_repo()` in case the repo has only empty folders.

---

## 2) Network contract repo: `<network>-profile/` (e.g., `acmenet-profile/`)

Created structure:

```text
acmenet-profile/
  README.md
  LICENSE
  NOTICE.md
  CHANGELOG.md
  profile/
    DEPENDENCIES.yaml
    SUPPORT_MATRIX.md
    POLICY_REFERENCES.md
    CONFORMANCE/
      discovery.md
      ordering.md
      fulfillment.md
      post_fulfillment.md
  releases/
    v0.1.0.md
  .gitkeep
```

### Folder / file explanations

* **`README.md`**

  * Human entrypoint for the repo: what the network profile is and how to interpret it.

* **`LICENSE`**

  * Repo licensing. (Important because the playbook is about attribution hygiene—licensing clarity is part of that.)

* **`NOTICE.md`**

  * Attribution + notices required by upstream dependencies or org policy.
  * In practice: this is where you record “derived from” and other legal/credit obligations.

* **`CHANGELOG.md`**

  * Chronological summary of profile changes (especially useful as network rules evolve fast).

* **`profile/`**

  * The **machine- and human-readable “network manifest”** directory.

* **`profile/DEPENDENCIES.yaml`**

  * The pinned upstream dependency intent for the network (core + domain versions/tags/commits).
  * This implements the playbook recommendation: treat core/domain as **dependencies**, not copy-pasted content.

* **`profile/SUPPORT_MATRIX.md`**

  * A compatibility table: supported domains, flows, versions, optional features, etc.

* **`profile/POLICY_REFERENCES.md`**

  * Pointers to policies (often in `<network>-policy`) that constrain implementations.

* **`profile/CONFORMANCE/`**

  * Conformance rules organized by lifecycle stage.

* **`profile/CONFORMANCE/discovery.md`**

  * Network-specific conformance overlays for discovery (e.g., constraints on `search`, required tags, stricter validations).

* **`profile/CONFORMANCE/ordering.md`**

  * Conformance overlays for ordering stage.

* **`profile/CONFORMANCE/fulfillment.md`**

  * Conformance overlays for fulfillment stage.

* **`profile/CONFORMANCE/post_fulfillment.md`**

  * Conformance overlays for post-fulfillment stage (returns, disputes, settlement, etc.).

* **`releases/`**

  * Release notes for each network release.

* **`releases/v0.1.0.md`**

  * First release note template. Typically includes pinned upstream refs + change summary + migration notes.

---

## 3) Extensions repo: `<network>-schemas/` (e.g., `acmenet-schemas/`)

Created structure:

```text
acmenet-schemas/
  README.md
  LICENSE
  NOTICE.md
  CHANGELOG.md
  context/
    network/
      .gitkeep
  jsonschema/
    network/
      .gitkeep
  mapping/
    mapping-matrix.csv
    notes.md
  .gitkeep
```

### Folder / file explanations

* **`README.md`**

  * Explains how to use schema packs, versioning conventions, and integration steps.

* **`LICENSE` / `NOTICE.md` / `CHANGELOG.md`**

  * Standard repo hygiene: legal clarity + change tracking.

* **`context/`**

  * JSON-LD contexts live here.
  * Supports the playbook’s recommendation: extensions should be **semantically bindable** (not just structural JSON schema).

* **`context/network/`**

  * Network-specific contexts (Layer-3).
  * `.gitkeep` exists so the folder is committed even before you add contexts.

* **`jsonschema/`**

  * JSON Schema definitions live here.

* **`jsonschema/network/`**

  * Network-specific schema pack folder.
  * `.gitkeep` keeps it tracked until real schemas arrive.

* **`mapping/`**

  * This repo anticipates real-world messiness: networks often need mapping tables.

* **`mapping/mapping-matrix.csv`**

  * A mapping matrix (commonly: network field → beckn field → schema.org/other vocab).
  * Helps implementers and auditors understand semantics, not just shape.

* **`mapping/notes.md`**

  * Human explanation and caveats for the mapping matrix (why certain fields map imperfectly, exceptions, etc.).

---

## 4) Examples repo: `<network>-examples/` (e.g., `acmenet-examples/`)

Created structure:

```text
acmenet-examples/
  README.md
  LICENSE
  NOTICE.md
  CHANGELOG.md
  upstream-refs/
    ev-charging.yaml
  patches/
    ev-charging/
      on_search.patch.json
      on_confirm.patch.json
  generated/
    ev-charging/
      on_search.json
      on_confirm.json
  reports/
    latest-validation.json
  .gitkeep
```

### Folder / file explanations

This repo embodies the playbook’s strongest anti-drift tactic: **store deltas, generate outputs**.

* **`README.md`**

  * Explains the patch workflow: what is upstream, what is network overlay, how to regenerate.

* **`upstream-refs/`**

  * “Anchors” copied as references (often pointers, minimal upstream snapshots, or structured notes).
  * The goal is to avoid republishing full upstream IG content, while still making provenance explicit.

* **`upstream-refs/ev-charging.yaml`**

  * Placeholder upstream reference for an EV-charging domain example set.
  * In a mature setup, this might include upstream file path refs + pinned commits.

* **`patches/`**

  * Stores the **network-specific deltas** (often JSON Patch, merge patch, or overlay format).

* **`patches/ev-charging/on_search.patch.json`**

  * Patch describing how the network modifies the upstream `on_search` example (adds required tags, IDs, policy fields, etc.).

* **`patches/ev-charging/on_confirm.patch.json`**

  * Patch describing how the network modifies the upstream `on_confirm` example.

* **`generated/`**

  * Deterministic outputs produced by applying patches to upstream anchors.

* **`generated/ev-charging/on_search.json`**

  * Fully generated “final” example payload implementers can copy/test against.

* **`generated/ev-charging/on_confirm.json`**

  * Same for `on_confirm`.

* **`reports/`**

  * Validation outputs that prove the generated artifacts pass schema/conformance checks.

* **`reports/latest-validation.json`**

  * A latest-run report artifact (CI would typically update this or publish it in release assets).

---

## 5) Tooling repo: `<network>-tooling/` (e.g., `acmenet-tooling/`)

Created structure:

```text
acmenet-tooling/
  README.md
  LICENSE
  NOTICE.md
  CHANGELOG.md
  scripts/
    .gitkeep
  bin/
    .gitkeep
  .gitkeep
```

### Folder / file explanations

This repo exists because the “no-copy overlay” approach needs real machinery.

* **`README.md`**

  * Describes tools provided, usage patterns, and how other repos consume them.

* **`scripts/`**

  * High-level scripts (bash/python/node) that orchestrate tasks:

    * apply patches
    * fetch upstream refs
    * run validators
    * generate docs artifacts

* **`scripts/.gitkeep`**

  * Placeholder to keep the folder tracked.

* **`bin/`**

  * Executable utilities (packaged CLI, small binaries, wrappers).

* **`bin/.gitkeep`**

  * Placeholder.

---

## 6) Policy repo: `<network>-policy/` (e.g., `acmenet-policy/`)

Created structure:

```text
acmenet-policy/
  README.md
  LICENSE
  NOTICE.md
  CHANGELOG.md
  policies/
    network-policy.md
    security-policy.md
    onboarding.md
  .gitkeep
```

### Folder / file explanations

This repo isolates the “rules of the network” from the technical artifacts.

* **`README.md`**

  * Explains policy scope: who it applies to (BAPs/BPPs), enforcement, change process.

* **`policies/network-policy.md`**

  * The core network policy: eligibility, participation rules, compliance requirements.

* **`policies/security-policy.md`**

  * Security posture, minimum requirements, incident reporting, key management expectations, etc.

* **`policies/onboarding.md`**

  * Step-by-step onboarding: registration steps, conformance process, certification or sandbox details.

---

## 7) Docs “front door” repo: `<network>-docs/` (e.g., `acmenet-docs/`)

Created structure:

```text
acmenet-docs/
  README.md
  LICENSE
  NOTICE.md
  mkdocs.yml
  docs/
    index.md
    architecture/
      overview.md
      participants.md
      trust-registry.md
      security.md
    ig/
      ev-charging/
        overlay.md
        conformance.md
        workflows/
          .gitkeep
        faq.md
    schemas/
      packs.md
    examples/
      ev-charging.md
    releases/
      index.md
  tools/
    fetch-upstreams/
      .gitkeep
  upstream/
    core/        (git submodule)
    domain/      (git submodule)
    PINNED_REFS.txt
  .gitkeep
```

### Folder / file explanations

This is the **single implementer entrypoint** (“one front door”).

* **`mkdocs.yml`**

  * MkDocs site configuration (nav, theme, plugins).
  * Makes the docs buildable/publishable (GitHub Pages or similar).

* **`docs/index.md`**

  * Landing page: what the network is, where to start, “read this first”.

* **`docs/architecture/overview.md`**

  * High-level architecture narrative for the network.

* **`docs/architecture/participants.md`**

  * Roles/actors: NFO, participants, registry/trust components, etc.

* **`docs/architecture/trust-registry.md`**

  * Explains trust machinery: registries, keys, verification methods, onboarding validations.

* **`docs/architecture/security.md`**

  * Security model summary and links to the authoritative policy repo.

* **`docs/ig/`**

  * Network-authored Implementation Guide overlays.
  * Key idea from the playbook: **overlays, not duplicated upstream IGs**.

* **`docs/ig/ev-charging/overlay.md`**

  * The delta narrative: what’s stricter/added/forbidden compared to upstream EV-charging IG.

* **`docs/ig/ev-charging/conformance.md`**

  * Concrete conformance requirements for EV-charging in this network.

* **`docs/ig/ev-charging/workflows/.gitkeep`**

  * Placeholder for workflow diagrams/step docs.

* **`docs/ig/ev-charging/faq.md`**

  * FAQ for implementers to avoid “same question, 400 times” syndrome.

* **`docs/schemas/packs.md`**

  * Explains schema packs: versions, URLs, how to import contexts, how to validate.

* **`docs/examples/ev-charging.md`**

  * Documentation view of example flows; typically points to generated JSON in `<network>-examples`.

* **`docs/releases/index.md`**

  * Release page for the portal: compatibility matrix + links to profile releases.

* **`tools/fetch-upstreams/`**

  * Placeholder for scripts that pull or index upstream docs for rendering/composition.

* **`upstream/`**

  * Where the upstream dependencies are mounted via git submodules.

* **`upstream/core/` (submodule)**

  * Points to `UPSTREAM_CORE_URL` (default: `beckn/protocol-specifications`).
  * This is the “core layer” dependency.

* **`upstream/domain/` (submodule)**

  * Points to `UPSTREAM_DOMAIN_URL` (default: `beckn/DEG`).
  * This is the “domain layer” dependency.

* **`upstream/PINNED_REFS.txt`**

  * Generated by the script to record intent:

    * `core_url`, `core_ref`
    * `domain_url`, `domain_ref`
  * Important nuance (explicitly written in the file): **the script does not auto-checkout** those refs; it records them for humans/CI to enforce.

---

## 8) Optional “meta” repo: `<network>-workspace/` (e.g., `acmenet-workspace/`)

Created only when:

* `CREATE_WORKSPACE_REPO=true` (default in the script)

Structure:

```text
acmenet-workspace/
  README.md
  NOTICE.md
  repos/
    .github/              (submodule)
    acmenet-profile/      (submodule)
    acmenet-schemas/      (submodule)
    acmenet-examples/     (submodule)
    acmenet-tooling/      (submodule)
    acmenet-policy/       (submodule)
    acmenet-docs/         (submodule)
  .gitkeep
```

### Folder / file explanations

* **`acmenet-workspace/`**

  * A coordinating repo that can **track all sibling repos** as submodules.
  * This is for maintainers (not implementers).

* **`repos/`**

  * Submodule mount point containing every repo forged above.

* **`repos/.github` etc.**

  * Added as **relative-path submodules** (e.g., `../acmenet-docs`), making this workspace portable inside the forged directory.

* **`README.md`**

  * Intended to describe how to clone the org as a coordinated set and how to update submodules.

* **`NOTICE.md`**

  * Workspace-level notices/attribution.

---

## Cross-cutting note: why so many `LICENSE`, `NOTICE.md`, `CHANGELOG.md`?

This is deliberate “boring excellence”:

* **`NOTICE.md`** is the concrete place to satisfy attribution and derived-work obligations (the entire purpose of the Attribution Playbook).
* **`CHANGELOG.md`** enables auditability when network rules move faster than upstream layers.
* **`LICENSE`** prevents downstream reuse from becoming legally ambiguous.