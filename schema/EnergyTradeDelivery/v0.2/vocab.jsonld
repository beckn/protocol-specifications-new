{
  "@context": {
    "@version": 1.1,
    "beckn": "https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/draft/schema/EnergyTradeDelivery/v0.2/#",
    "schema": "https://schema.org/",
    "rdf": "http://www.w3.org/1999/02/22-rdf-syntax-ns#",
    "rdfs": "http://www.w3.org/2000/01/rdf-schema#",
    "xsd": "http://www.w3.org/2001/XMLSchema#"
  },
  "@graph": [
    {
      "@id": "beckn:EnergyTradeDelivery",
      "@type": "rdfs:Class",
      "rdfs:label": "Energy Trade Delivery",
      "rdfs:comment": "Represents the physical transfer of energy for an orderItem, tracking delivery status, meter readings with time windows, and energy allocation."
    },
    {
      "@id": "beckn:deliveryStatus",
      "@type": "rdf:Property",
      "rdfs:label": "Delivery status",
      "rdfs:comment": "Delivery status for the energy transfer (PENDING, IN_PROGRESS, COMPLETED, FAILED).",
      "rdfs:domain": "beckn:EnergyTradeDelivery",
      "schema:rangeIncludes": "beckn:DeliveryStatus"
    },
    {
      "@id": "beckn:deliveryMode",
      "@type": "rdf:Property",
      "rdfs:label": "Delivery mode",
      "rdfs:comment": "Mode of energy delivery (EV_CHARGING, BATTERY_SWAP, V2G, GRID_INJECTION).",
      "rdfs:domain": "beckn:EnergyTradeDelivery",
      "schema:rangeIncludes": "beckn:DeliveryMode"
    },
    {
      "@id": "beckn:deliveredQuantity",
      "@type": "rdf:Property",
      "rdfs:label": "Delivered quantity",
      "rdfs:comment": "Total quantity delivered so far in kilowatt-hours (kWh).",
      "rdfs:domain": "beckn:EnergyTradeDelivery",
      "schema:rangeIncludes": "schema:Number"
    },
    {
      "@id": "beckn:meterReadings",
      "@type": "rdf:Property",
      "rdfs:label": "Meter readings",
      "rdfs:comment": "Array of meter readings with time windows and energy values for this orderItem.",
      "rdfs:domain": "beckn:EnergyTradeDelivery",
      "schema:rangeIncludes": "schema:ItemList"
    },
    {
      "@id": "beckn:consumedEnergy",
      "@type": "rdf:Property",
      "rdfs:label": "Consumed energy",
      "rdfs:comment": "Energy consumed by the customer (imported from grid) in a time window (kWh). Per IEC 61968/ESPI flowDirection=1.",
      "rdfs:domain": "beckn:EnergyTradeDelivery",
      "schema:rangeIncludes": "schema:Number"
    },
    {
      "@id": "beckn:producedEnergy",
      "@type": "rdf:Property",
      "rdfs:label": "Produced energy",
      "rdfs:comment": "Energy produced by the customer (exported to grid) in a time window (kWh). Per IEC 61968/ESPI flowDirection=19.",
      "rdfs:domain": "beckn:EnergyTradeDelivery",
      "schema:rangeIncludes": "schema:Number"
    },
    {
      "@id": "beckn:allocatedEnergy",
      "@type": "rdf:Property",
      "rdfs:label": "Allocated energy",
      "rdfs:comment": "Net energy allocated for this trade in a time window (kWh).",
      "rdfs:domain": "beckn:EnergyTradeDelivery",
      "schema:rangeIncludes": "schema:Number"
    },
    {
      "@id": "beckn:curtailedQuantity",
      "@type": "rdf:Property",
      "rdfs:label": "Curtailed quantity",
      "rdfs:comment": "Quantity curtailed from original contracted amount (kWh).",
      "rdfs:domain": "beckn:EnergyTradeDelivery",
      "schema:rangeIncludes": "schema:Number"
    },
    {
      "@id": "beckn:curtailmentReason",
      "@type": "rdf:Property",
      "rdfs:label": "Curtailment reason",
      "rdfs:comment": "Reason for curtailment (GRID_OUTAGE, EMERGENCY, CONGESTION, MAINTENANCE, OTHER).",
      "rdfs:domain": "beckn:EnergyTradeDelivery",
      "schema:rangeIncludes": "beckn:CurtailmentReason"
    },
    {
      "@id": "beckn:DeliveryStatus",
      "@type": "schema:Enumeration",
      "schema:name": "Delivery Status",
      "rdfs:comment": "Enumeration of delivery statuses for energy trade fulfillment.",
      "schema:hasEnumerationMember": [
        { "@id": "beckn:DeliveryStatusPending" },
        { "@id": "beckn:DeliveryStatusInProgress" },
        { "@id": "beckn:DeliveryStatusCompleted" },
        { "@id": "beckn:DeliveryStatusFailed" }
      ]
    },
    {
      "@id": "beckn:DeliveryStatusPending",
      "@type": ["beckn:DeliveryStatus", "schema:Enumeration"],
      "schema:name": "PENDING",
      "schema:identifier": "PENDING"
    },
    {
      "@id": "beckn:DeliveryStatusInProgress",
      "@type": ["beckn:DeliveryStatus", "schema:Enumeration"],
      "schema:name": "IN_PROGRESS",
      "schema:identifier": "IN_PROGRESS",
      "schema:alternateName": "IN-PROGRESS"
    },
    {
      "@id": "beckn:DeliveryStatusCompleted",
      "@type": ["beckn:DeliveryStatus", "schema:Enumeration"],
      "schema:name": "COMPLETED",
      "schema:identifier": "COMPLETED"
    },
    {
      "@id": "beckn:DeliveryStatusFailed",
      "@type": ["beckn:DeliveryStatus", "schema:Enumeration"],
      "schema:name": "FAILED",
      "schema:identifier": "FAILED"
    },
    {
      "@id": "beckn:DeliveryMode",
      "@type": "schema:Enumeration",
      "schema:name": "Delivery Mode",
      "rdfs:comment": "Enumeration of delivery modes for energy transfers.",
      "schema:hasEnumerationMember": [
        { "@id": "beckn:DeliveryModeEvCharging" },
        { "@id": "beckn:DeliveryModeBatterySwap" },
        { "@id": "beckn:DeliveryModeV2G" },
        { "@id": "beckn:DeliveryModeGridInjection" }
      ]
    },
    {
      "@id": "beckn:DeliveryModeEvCharging",
      "@type": ["beckn:DeliveryMode", "schema:Enumeration"],
      "schema:name": "EV_CHARGING",
      "schema:identifier": "EV_CHARGING",
      "schema:alternateName": "EV-CHARGING"
    },
    {
      "@id": "beckn:DeliveryModeBatterySwap",
      "@type": ["beckn:DeliveryMode", "schema:Enumeration"],
      "schema:name": "BATTERY_SWAP",
      "schema:identifier": "BATTERY_SWAP",
      "schema:alternateName": "BATTERY-SWAP"
    },
    {
      "@id": "beckn:DeliveryModeV2G",
      "@type": ["beckn:DeliveryMode", "schema:Enumeration"],
      "schema:name": "V2G",
      "schema:identifier": "V2G"
    },
    {
      "@id": "beckn:DeliveryModeGridInjection",
      "@type": ["beckn:DeliveryMode", "schema:Enumeration"],
      "schema:name": "GRID_INJECTION",
      "schema:identifier": "GRID_INJECTION",
      "schema:alternateName": "GRID-INJECTION"
    },
    {
      "@id": "beckn:CurtailmentReason",
      "@type": "schema:Enumeration",
      "schema:name": "Curtailment Reason",
      "rdfs:comment": "Enumeration of reasons for energy trade curtailment.",
      "schema:hasEnumerationMember": [
        { "@id": "beckn:CurtailmentReasonGridOutage" },
        { "@id": "beckn:CurtailmentReasonEmergency" },
        { "@id": "beckn:CurtailmentReasonCongestion" },
        { "@id": "beckn:CurtailmentReasonMaintenance" },
        { "@id": "beckn:CurtailmentReasonOther" }
      ]
    },
    {
      "@id": "beckn:CurtailmentReasonGridOutage",
      "@type": ["beckn:CurtailmentReason", "schema:Enumeration"],
      "schema:name": "GRID_OUTAGE",
      "schema:identifier": "GRID_OUTAGE"
    },
    {
      "@id": "beckn:CurtailmentReasonEmergency",
      "@type": ["beckn:CurtailmentReason", "schema:Enumeration"],
      "schema:name": "EMERGENCY",
      "schema:identifier": "EMERGENCY"
    },
    {
      "@id": "beckn:CurtailmentReasonCongestion",
      "@type": ["beckn:CurtailmentReason", "schema:Enumeration"],
      "schema:name": "CONGESTION",
      "schema:identifier": "CONGESTION"
    },
    {
      "@id": "beckn:CurtailmentReasonMaintenance",
      "@type": ["beckn:CurtailmentReason", "schema:Enumeration"],
      "schema:name": "MAINTENANCE",
      "schema:identifier": "MAINTENANCE"
    },
    {
      "@id": "beckn:CurtailmentReasonOther",
      "@type": ["beckn:CurtailmentReason", "schema:Enumeration"],
      "schema:name": "OTHER",
      "schema:identifier": "OTHER"
    }
  ]
}
